---
import type { Playlist } from "../lib/types";
import { PlayCircleIcon } from "@heroicons/react/24/solid";

interface Props {
  playlist: Playlist;
  sidebar?: boolean;
}

const { playlist, sidebar } = Astro.props;
---
<a
    href={`/playlist/${playlist.id}`}
    class={`${sidebar ? 'p-1' : 'pr-2'} playlist-item flex justify-between group relative transition-all duration-300 items-center gap-2 rounded-md bg-zinc-900/40 hover:bg-zinc-500/50`}
    data-color={playlist.color.dark}
>
    <div class="flex items-center gap-2">

        <div class="relative flex-shrink-0">
            <img
                src={playlist.cover}
                alt={playlist.name}
                class={`object-cover h-12 w-12 md:h-16 md:w-16 ${sidebar ? 'rounded-md' : 'rounded-l-md'} group-hover:brightness-50 transition-all duration-300`}
            />

            <button class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 bg-zinc-800/20 rounded-l-md p-4 text-white">
                <PlayCircleIcon />
            </button>
        </div>

        <div class="text-xs flex flex-col md:text-sm line-clamp-2 leading-tight flex-1">
            <span class="font-semibold ">{playlist.name}</span>
            {sidebar && <span class="text-gray-300 text-xs">Lista</span>}
        </div>
    </div>
</a>
